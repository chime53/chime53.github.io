<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Shower Thoughts — Intro + Smoky Reveal</title>
<style>
  :root{
    --x: 50%;
    --y: 50%;
    --r: 110px;  /* reveal circle radius */
    --ink:#efeadd;
    --bg1:#22221f; --bg2:#2c2c25;
    --ui:"Palatino Linotype","Book Antiqua",Palatino,serif;
    --head:Georgia,"Times New Roman",serif;
  }

  html,body{
    height:100%; margin:0; overflow:hidden; color:var(--ink); font-family:var(--ui);
    background:
      radial-gradient(circle at 25% 25%, rgba(255,255,255,.05), transparent 60%) 0 0/200px 200px,
      linear-gradient(90deg,var(--bg1) 0 50%,var(--bg2) 50% 100%) 0 0/32px 32px;
  }

  /* -------------------- INTRO (all black) -------------------- */
  #intro{
    position:fixed; inset:0; display:grid; place-items:center; z-index:10;
    background:#000;
  }
  .intro-frame{
    width:min(88vw,1100px); max-height:76vh; aspect-ratio:3/2;
    border-radius:18px; overflow:hidden; box-shadow:0 24px 70px rgba(0,0,0,.65);
    background:#000 center/cover no-repeat;
    display:block; cursor:pointer; position:relative;
  }
  .intro-frame img{ width:100%; height:100%; object-fit:cover; display:block; }
  .hint{
    position:absolute; bottom:12px; right:12px;
    background:rgba(255,255,255,.9); color:#111; padding:8px 12px; border-radius:999px;
    font-weight:700; box-shadow:0 10px 28px rgba(0,0,0,.55)
  }

  /* -------------------- POEM SCREEN -------------------- */
  .wrap{ position:relative; height:100%; overflow:auto; padding:clamp(16px,4vw,48px); z-index:0; }
  .poem{ max-width:62ch; margin:0 auto; line-height:1.58; }
  h1{ margin:0 0 8px; font-family:var(--head); font-size:clamp(24px,5vw,40px); font-weight:700; letter-spacing:.3px }
  .byline{ margin:0 0 18px; opacity:.8; font-size:.95rem; font-style:italic }
  blockquote{
    margin:16px 0; padding:10px 14px; border-radius:10px;
    background:rgba(255,255,255,.08);
    backdrop-filter:blur(6px);
    box-shadow:0 8px 22px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06);
    font-family:var(--head); color:#fff;
  }

  /* -------------------- FOG / SMOKE (working) -------------------- */
  .steam{
    position:fixed; inset:0; z-index:2; pointer-events:none;
    background:
      radial-gradient(120% 100% at 50% 10%,
        rgba(255,255,255,.98), rgba(255,255,255,.99) 60%, rgba(255,255,255,1) 100%);
    filter: url(#smoke);
    transition:opacity 500ms ease;
    /* feathered circular reveal centered on cursor */
    mask: radial-gradient(circle calc(var(--r) + 20px) at var(--x) var(--y),
            transparent 0 var(--r),
            rgba(0,0,0,.2) calc(var(--r) + 8px),
            black calc(var(--r) + 20px));
    -webkit-mask: radial-gradient(circle calc(var(--r) + 20px) at var(--x) var(--y),
            transparent 0 var(--r),
            rgba(0,0,0,.2) calc(var(--r) + 8px),
            black calc(var(--r) + 20px));
  }
  .steam::before, .steam::after{
    content:""; position:absolute; inset:-10%;
    background:
      radial-gradient(60% 35% at 15% 30%, rgba(255,255,255,.60), transparent 70%),
      radial-gradient(50% 30% at 70% 60%, rgba(255,255,255,.55), transparent 72%),
      radial-gradient(40% 26% at 45% 80%, rgba(255,255,255,.50), transparent 70%);
    filter: blur(30px);
    mix-blend-mode:screen; opacity:.95;
    animation: driftA 28s ease-in-out infinite alternate;
  }
  .steam::after{ animation: driftB 36s ease-in-out infinite alternate; opacity:.92; }
  @keyframes driftA { 0%{transform:translate3d(-3%,-2%,0) scale(1.03)} 100%{transform:translate3d(3%,2%,0) scale(1)} }
  @keyframes driftB { 0%{transform:translate3d(2%,-3%,0)  scale(1.02)} 100%{transform:translate3d(-2%,3%,0) scale(1)} }

  .reveal-all .steam{ opacity:0; }

  /* controls */
  .ctrl{ position:fixed; top:14px; right:14px; z-index:3; display:flex; flex-direction:column; gap:8px; visibility:hidden; }
  .btn{
    border:none; cursor:pointer; padding:10px 16px; border-radius:999px; color:#111;
    background:rgba(255,255,255,.9); font-weight:700; letter-spacing:.2px;
    box-shadow:0 8px 22px rgba(0,0,0,.5); backdrop-filter:blur(6px)
  }

  /* subtle scanlines */
  body::after{ content:""; position:fixed; inset:0; pointer-events:none;
    background:repeating-linear-gradient(to bottom,rgba(0,0,0,.22) 0 1px,rgba(0,0,0,0) 1px 2px);
    mix-blend-mode:soft-light; opacity:.5 }
</style>
</head>
<body>

<!-- SVG smoke filter (animated) -->
<svg width="0" height="0" style="position:absolute">
  <filter id="smoke">
    <feTurbulence type="fractalNoise" baseFrequency="0.9 0.7" numOctaves="3" seed="7" stitchTiles="stitch" result="noise">
      <animate attributeName="baseFrequency" dur="18s" values="0.9 0.7; 0.7 0.9; 0.9 0.7" repeatCount="indefinite"/>
      <animate attributeName="seed" dur="20s" values="7;9;11;7" repeatCount="indefinite"/>
    </feTurbulence>
    <feDisplacementMap in="SourceGraphic" in2="noise" scale="34" xChannelSelector="R" yChannelSelector="G" result="displaced"/>
    <feGaussianBlur in="displaced" stdDeviation="7" edgeMode="duplicate"/>
  </filter>
</svg>

<!-- INTRO (all black + your tub image) -->
<section id="intro" aria-label="Intro">
  <div id="introFrame" class="intro-frame" title="Click to enter">
    <img src="https://i.imgur.com/JdHv44z.png" alt="Bathtub">
    <div class="hint">click to enter</div>
  </div>
</section>

<!-- CONTROLS (shown on poem screen) -->
<div class="ctrl" id="controls">
  <button id="toggle" class="btn">Reveal all</button>
  <button id="back" class="btn">Back</button>
</div>

<!-- POEM SCREEN -->
<div class="wrap" id="app" hidden>
  <article class="poem" aria-label="Poem content">
    <h1>Shower Thoughts</h1>
    <p class="byline">by Joshua Gan</p>

    <blockquote>I celebrate myself, and sing myself.</blockquote>
    <p>Through future uncertain and unreturned ponderance, solace in the storm I retreat. I have wondered, I have thought; I have resolved, I have given up. Life’s culmination, streaming by — washed away.</p>

    <blockquote>Doubts and fears pour out: “Hard work pays off,” or so I’m told to believe.</blockquote>
    <p>My mother, working tirelessly, day or night, come rain come shine — efforts seemingly swirled and drained away.</p>

    <blockquote>And what shall come? An outlook defined by success.</blockquote>
    <p>I dreamt of a future defined by numbers; prophecy of failure inevitable. I fall flat, submerged, swamped in the day’s worries ignored.</p>

    <blockquote>Yet in the constant torrent comes warmth.</blockquote>
    <p>New beginnings fall before me; negative reflection cleansed away. I recall the mundane: the wind in leaves, the chime of school’s bell. For I already carried happiness around me, inside me.</p>

    <blockquote>Day ending; records of hard work washing away — yet the sweat itself proof enough.</blockquote>
    <p>I step into tomorrow, burden of failure fallen. The world may not have my mark — but I will always.</p>

    <blockquote>I dream of happiness; daily life filled with humble pleasures, goals beyond possessions.</blockquote>
    <p>I live with pride and I shall live for others — my legacy to inspire, to move the world.</p>

    <blockquote>We celebrate ourselves, and sing ourselves.</blockquote>
  </article>
</div>

<!-- FOG OVERLAY -->
<div id="steam" class="steam" aria-hidden="true"></div>

<script>
  // ----- Screen switching -----
  const intro = document.getElementById('intro');
  const introFrame = document.getElementById('introFrame');
  const app = document.getElementById('app');
  const ctrl = document.getElementById('controls');

  introFrame.onclick = ()=>{
    intro.style.display = 'none';
    app.hidden = false;
    ctrl.style.visibility = 'visible';
  };

  document.getElementById('back').onclick = ()=>{
    app.hidden = true;
    ctrl.style.visibility = 'hidden';
    intro.style.display = 'grid';
  };

  // ----- Smoky reveal (working) -----
  const root = document.documentElement;
  const steam = document.getElementById('steam');
  const btn   = document.getElementById('toggle');

  function setHole(x,y){
    root.style.setProperty('--x', x + 'px');
    root.style.setProperty('--y', y + 'px');
  }
  setHole(innerWidth/2, innerHeight/2);

  addEventListener('mousemove', e => setHole(e.clientX, e.clientY), {passive:true});
  addEventListener('touchmove', e => {
    if (e.touches && e.touches[0]) setHole(e.touches[0].clientX, e.touches[0].clientY);
  }, {passive:true});

  // press/hold to widen a bit
  addEventListener('mousedown', ()=> steam.style.setProperty('--r','160px'));
  addEventListener('mouseup',   ()=> steam.style.setProperty('--r','110px'));
  addEventListener('mouseleave',()=> steam.style.setProperty('--r','110px'));
  addEventListener('touchstart',()=> steam.style.setProperty('--r','160px'), {passive:true});
  addEventListener('touchend',  ()=> steam.style.setProperty('--r','110px'));

  // reveal-all toggle
  btn.addEventListener('click', ()=>{
    document.body.classList.toggle('reveal-all');
    btn.textContent = document.body.classList.contains('reveal-all') ? 'Cover again' : 'Reveal all';
  });
</script>
</body>
</html>
